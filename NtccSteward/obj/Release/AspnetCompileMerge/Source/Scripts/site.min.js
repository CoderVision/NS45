function churchModuleLinkClick(e,t){selectModuleLink(e),$(document).ajaxStart(function(){$("#profileLoader").css("visibility","visible")}),$(document).ajaxStop(function(){$("#profileLoader").css("visibility","hidden")}),$.ajax({url:"/Church/GetView",type:"POST",datatype:"HTML",data:{viewName:e,churchId:t},success:function(e){$("#moduleContent").html(e),wireEventHandlers("church")},error:function(e,t,r){alert("Status: "+t),alert("Error: "+r)}})}function initializeRequestAccount(){$("#requestAcct").validate({rules:{FirstName:{required:!0}},submitHandler:function(e){e.submit()},highlight:function(e,t){$(e).closest(".form-group").addClass("has-error")},unhighlight:function(e,t){$(e).closest(".form-group").removeClass("has-error")}})}function initializeLogin(){$("#loginForm").validate({rules:{Email:{required:!0,email:!0},Password:{required:!0},ChurchId:{required:!0}},highlight:function(e,t){$(e).closest(".form-group").addClass("has-error")},unhighlight:function(e,t){$(e).closest(".form-group").removeClass("has-error")},submitHandler:function(e){$.ajax({url:e.action,type:e.method,data:$(e).serialize(),dataType:"text json",success:function(e){void 0!==e&&e.Success?window.location=e.RedirectUrl:(document.getElementById("failureMsg").innerHTML=e.ErrorMessage,$("#failureMsg").removeClass("hidden"))},fail:function(e){alert("failed to login")}})}})}function SaveMemberProfile(){for(var e=document.getElementById("maleRadio").checked,t={MemberId:$("#identityId").val(),FirstName:$("#FirstName").val(),MiddleName:$("#MiddleName").val(),LastName:$("#LastName").val(),ChurchId:3,ChurchName:$("#ChurchName").val(),StatusId:$("#Status").val(),PreferredName:$("#PreferredName").val(),Gender:e===!0?"M":"F",BirthDate:$("#BirthDate").val(),Married:!1,Veteran:!1,SponsorId:$("#Sponsor").val(),Comments:$("#Comments").val(),DateSaved:null,DateBaptizedWater:null,DateBaptizedHolyGhost:null,AddressList:[],EmailList:[],PhoneList:[]},r=GetAddresses("addressList_"+t.MemberId),a=0;a<r.length;a++)r[a].Changed===!0&&(r[a].IdentityId=t.MemberId,t.AddressList.push(r[a]));for(var i=GetPhoneNumbers("phoneList_"+t.MemberId),s=0;s<i.length;s++)i[s].Changed===!0&&(i[s].IdentityId=t.MemberId,t.PhoneList.push(i[s]));for(var n=GetEmails("emailList_"+t.MemberId),d=0;d<n.length;d++)n[d].Changed===!0&&(n[d].IdentityId=t.MemberId,t.EmailList.push(n[d]));$.ajax({type:"POST",datatype:"JSON",data:t,url:"/Member/SaveProfile",success:function(e){alert("Save Profile Success!")},error:function(e,t,r){alert(e.responseText)},context:this}),enableSave(!1)}function memberModuleLinkClick(e,t){selectModuleLink(e),$(document).ajaxStart(function(){$("#profileLoader").css("visibility","visible")}),$(document).ajaxStop(function(){$("#profileLoader").css("visibility","hidden")}),$.ajax({url:"/Member/GetView",type:"POST",datatype:"HTML",data:{viewName:e,memberId:t},success:function(e){$("#moduleContent").html(e),wireEventHandlers("member")},error:function(e,t,r){alert("Status: "+t),alert("Error: "+r)}})}function OpenNewMemberForm(){ClearNewMemberForm(),document.getElementById("dateCame").focus()}function ClearNewMemberForm(){$("#dateCame").val(""),$("#isGroup").prop("checked",!1),$("#prayed").prop("checked",!1),$("#firstName").val(""),$("#lastName").val(""),$("#line1").val(""),$("#city").val(""),$("#state").val(""),$("#zip").val(""),$("#phone").val(""),$("#email").val(""),$("#sponsor").val("");var e=$("#addMemberForm").validate();e.resetForm()}function SaveNewMember(e){var t=$("#addMemberForm").valid();if(t!==!1){var r={id:-1,DateCame:$("#dateCame").val(),IsGroup:$("#isGroup").prop("checked"),Prayed:$("#prayed").prop("checked"),FirstName:$("#firstName").val(),LastName:$("#lastName").val(),Line1:$("#line1").val(),City:$("#city").val(),State:$("#state").val(),Zip:$("#zip").val(),Phone:$("#phone").val(),Phone2:$("#phone2").val(),Email:$("#email").val(),SponsorId:$("#sponsor").val(),ChurchId:-1,CreatedByUserId:-1},a=0;return $.ajax({url:"/Member/CreateMember",type:"POST",datatype:"Json",data:r,success:function(t){e&&OpenNewMember(t)},error:function(e,t,r){alert("Status: "+t+"\r\nError: "+r)}}),e?void 0:a}}function SaveNewMemberAdd(){SaveNewMember(!1),ClearNewMemberForm(),document.getElementById("dateCame").focus()}function CloseNewMember(){ClearNewMemberForm(),$("#newMember").modal("hide")}function OpenNewMember(e){$("#newMember").modal("hide"),$.ajax({url:"/Member/Member",type:"POST",datatype:"Json",data:{id:e},success:function(e){},error:function(e,t,r){alert("Status: "+t+"\r\nError: "+r)}})}function initializeNewMember(){$("#addMemberForm").validate({rules:{dateCame:{date:!0},firstName:{required:function(e){var t=$("#lastName").val();return""===t.trim()}},lastName:{required:function(e){var t=$("#firstName").val();return""===t.trim()}},email:{email:!0}},highlight:function(e,t){$(e).closest(".form-group").addClass("has-error")},unhighlight:function(e,t){$(e).closest(".form-group").removeClass("has-error")},messages:{firstName:"First or Last name is required",lastName:"First or Last name is required"}})}function ShowGroupMembers(e){if(void 0!==e){var t=document.getElementById("lblGroupMember");t.innerText="Group "+e+" Members";var r=document.createElement("ul");r.className="list-group",r.appendChild(CreateGroupMemberLi(1===e?"Gary":2===e?"Chavez":"Connors")),r.appendChild(CreateGroupMemberLi(1===e?"Wei":2===e?"Shabana":"Bro. Connel")),r.appendChild(CreateGroupMemberLi(1===e?"Curtis":2===e?"Foo":"Bro. Bean"));for(var a=document.getElementById("groupMembers"),i=a.childNodes.length-1;i>=0;i--){var s=a.childNodes[i];a.removeChild(s)}a.appendChild(r)}}function CreateGroupMemberLi(e){var t=document.createElement("li");return t.className="list-group-item",t.innerText=e,t}function Message_wireEvents(){wireGoupList("groupList"),wireGoupList("corrList")}function wireGoupList(e){var t=document.getElementById(e),r=t.getElementsByTagName("li");for(i=0;i<r.length;i++)r[i].addEventListener("click",groupListItemClick,!1)}function groupListItemClick(e){e.preventDefault(),$(this).parent().find("li").removeClass("active"),$(this).addClass("active");var t=String($(this).attr("id")),r=t.substr(t.indexOf("_")+1,t.length-1);loadMessages(r)}function loadMessageList(e){var t=getActiveChildId(e);void 0!==t&&loadMessages(t)}function loadMessages(e){$.ajax({url:"/Messages/MessageList",type:"POST",datatype:"HTML",data:{id:e},success:function(e){$("#messageListContainer").html(e)},fail:function(e){alert("failed to load messages")},context:this})}function getActiveChildId(e){var t=document.getElementById(e),r=t.getElementsByClassName("active");if(r.length>0){var a=r[0].id,i=a.substr(a.indexOf("_")+1);return a.substr(),i}return void 0}function sendMsg(){var e,t=getActiveChildId("msgNav");e="grpPnlTab"===t?"groupList":"corrList";var r=getActiveChildId(e),a=document.getElementById("msgTxt").value;void 0!==a&&""!==a.toString().trim()&&$.ajax({url:"/Messages/SendSmsMsg",type:"POST",datatype:"HTML",data:{id:r,msg:a},success:function(e){var t=document.getElementById("messageList"),r=document.createElement("li");r.innerHTML=e,t.appendChild(r)},fail:function(e){alert("failed to load messages")},context:this})}function RemoveGroup(e,t){var r="grp_"+e,a=document.getElementById(r);a&&$("#"+r).remove()}function addTiny(e){tinymce.execCommand("mceRemoveEditor",!1,e),tinymce.init({selector:"textarea",auto_focus:e,height:300,menubar:!1})}function search_oninput(e,t){updateFilter(e.grid,t)}function updateFilter(e,t){var r=e.getData();r.setFilterArgs({searchString:t}),r.refresh(),e.invalidateAllRows(),e.render()}function selectModuleLink(e){for(var t=$("#moduleMenu a"),r=0;r<t.length;r++){var a=t[r];console.log(a);var i=a.innerHTML;i===e?(a.style.backgroundColor="#B8DEC5",a.style.margin="0px -3.8px 4px 0px",a.style.borderRightWidth="0px"):(a.style.backgroundColor="",a.style.margin="",a.style.borderRightWidth="")}}function AddAddress(e,t,r){$.ajax({url:"/Member/CreateAddress",type:"POST",datatype:"HTML",data:{addyType:t,memberId:e},success:function(e){$("#"+r).append(e);var t=getIdFromString(e.toString());wireEventHandlers(t)},error:function(e,t,r){alert("Status: "+t),alert("Error: "+r)}})}function getIdFromString(e){var t=/id=\"(.+)\"/,r=t.exec(e),a=r[1];return a}function RemoveAddress(e,t){confirm("Delete address?")!==!1&&$.ajax({url:"/Member/RemoveAddress",type:"POST",datatype:"HTML",data:{addressId:e},success:function(r){var a=t+"_"+e,i=document.getElementById(a);i&&$("#"+a).remove()},error:function(e,t,r){alert("Status: "+t),alert("Error: "+r)}})}function enableSave(e){var t=document.getElementById("memberSaveBtn");t&&(t.src=e?"../images/save-32.png":"../images/save-32-gray.png")}function getTarget(e){var t;return e||(e=window.event),e.target?t=e.target:e.srcElement&&(t=e.srcElement),3===t.nodeType&&(t=t.parentNode),t}function keydown(e){enableSave(!0),e.currentTarget.setAttribute("data-changed","true")}function wireEventHandlers(e){var t=document.getElementById(e);if(t)for(var r=t.getElementsByTagName("input"),a=0;a<r.length;a++)"radio"===r[a].type||"checkbox"===r[a].type?r[a].addEventListener("click",keydown,!0):r[a].addEventListener("change",keydown,!0)}function GetAddresses(e){var t=[],r=document.getElementById(e);if(null===r)return t;for(var a=0;a<r.childElementCount;a++){var i={IdentityId:0,ContactInfoId:0,Line1:"",Line2:"",Line3:"",City:"",State:"",Zip:"",Preferred:0,Verified:0,Changed:!1},s=r.children[a];if(s.id&&s.id.indexOf("address_")>-1){i.ContactInfoId=s.id.replace("address_","");for(var n=s.querySelectorAll(".form-control,.nscheckbox:checked"),d=0;d<n.length;d++){var l=n[d].getAttribute("data-changed");null!==l&&"true"===l&&(i.Changed=!0);var o=n[d].value;"line1"===n[d].id?i.Line1=o:"line2"===n[d].id?i.Line2=o:"line3"===n[d].id?i.Line3=o:"city"===n[d].id?i.City=o:"state"===n[d].id?i.State=o:"zip"===n[d].id?i.Zip=o:"preferred"===n[d].id?i.Preferred=o:"verified"===n[d].id&&(i.Verified=o)}t.push(i)}}return t}function GetPhoneNumbers(e){var t=[],r=document.getElementById(e);if(null===r)return t;for(var a=0;a<r.childElementCount;a++){var i={IdentityId:0,ContactInfoId:0,PhoneNumber:"",Preferred:0,Verified:0,Changed:!1},s=r.children[a];if(!s.id||-1!==s.id.indexOf("phone_")){i.ContactInfoId=s.id.replace("phone_","");for(var n=s.querySelectorAll(".form-control,.nscheckbox:checked"),d=0;d<n.length;d++){var l=n[d].getAttribute("data-changed");null!==l&&"true"===l&&(i.Changed=!0);var o=n[d].value;"phoneNumber"===n[d].id?i.PhoneNumber=o:"preferred"===n[d].id?i.Preferred=o:"verified"===n[d].id&&(i.Verified=o)}t.push(i)}}return t}function GetEmails(e){var t=[],r=document.getElementById(e);if(null===r)return t;for(var a=0;a<r.childElementCount;a++){var i={IdentityId:0,ContactInfoId:0,EmailAddress:"",Preferred:0,Verified:0,Changed:!1},s=r.children[a];if(!s.id||-1!==s.id.indexOf("email_")){i.ContactInfoId=s.id.replace("email_","");for(var n=s.querySelectorAll(".form-control,.nscheckbox:checked"),d=0;d<n.length;d++){var l=n[d].getAttribute("data-changed");null!==l&&"true"===l&&(i.Changed=!0);var o=n[d].value;"emailAddress"===n[d].id?i.EmailAddress=o:"preferred"===n[d].id?i.Preferred=o:"verified"===n[d].id&&(i.Verified=o)}t.push(i)}}return t}function OpenMap(e){for(var t={},r=$("#identityId").val(),a=GetAddresses("addressList_"+r),i=0;i<a.length;i++)a[i].ContactInfoId===e&&(t=a[i]);if(t&&t.Id){var s="";""!==t.Line1.trim()&&(s=t.Line1.trim()),""!==t.Line2.trim()&&(s+=(""!==s?",":"")+t.Line2.trim()),""!==t.City.trim()&&(s+=(""!==s?",":"")+t.City.trim()),""!==t.State.trim()&&(s+=(""!==s?",":"")+t.State.trim()),""!==t.Zip.trim()&&(s+=(""!==s?" ":"")+t.Zip.trim());var n="https://www.google.com/maps/place/"+s.replace(" ","+");window.open(n,"_blank")}}function OpenText(e){for(var t={PhoneNumber:""},r=$("#identityId").val(),a=GetPhoneNumbers("phoneList_"+r),i=0;i<a.length;i++)a[i].ContactInfoId===e&&(t=a[i]);t&&t.PhoneNumber&&""!==t.PhoneNumber.trim()&&($("#msgType").val("sms"),$("#recipient").val(t.PhoneNumber),$("#body").val(""),$("#subjectGrp").addClass("hidden"),$("#sendMsg").modal())}function OpenEmail(e){for(var t={EmailAddress:""},r=$("#identityId").val(),a=GetEmails("emailList_"+r),i=0;i<a.length;i++)a[i].ContactInfoId===e&&(t=a[i]);t&&t.EmailAddress&&""!==t.EmailAddress.trim()&&($("#msgType").val("email"),$("#recipient").val(t.EmailAddress),$("#subject").val(""),$("#body").val(""),$("#subjectGrp").removeClass("hidden"),$("#sendMsg").modal())}function SendMsg(){var e=$("#msgType").val(),t=$("#recipient").val(),r=$("#subject").val(),a=$("#body").val(),i="/api/message/"+("sms"===e?"SendSms":"SendEmail"),s={churchId:0,recipient:t.trim(),subject:r.trim(),body:a.trim()};$.ajax({type:"POST",datatype:"JSON",data:s,url:i,success:function(e){$("#sendMsg").modal("hide")},error:function(e,t,r){alert(e.responseText)},context:this})}var chuLstLdr={grid:null,dataView:null,dispose:function(){this.grid=null,this.dataView=null},loadgrid:function(e){function t(e,t){var r=(e.ChurchName+"").toLowerCase(),a=(t.searchString+"").toLowerCase();return r.indexOf(a+"")>-1}function r(e,t,r,a,i){return r?"<a href='/Church/Church?id="+i.id+"'>"+r+"</a>":null}function a(e,t){var r=e[i],a=t[i];return"string"==typeof r&&"string"==typeof a&&(r=r.toLowerCase(),a=a.toLowerCase()),r===a?0:null===r?-1:null===a?1:r>a?1:-1}var i,s=[{id:"fullName",name:"Church Name",field:"ChurchName",minWidth:150,sortable:!0,headerCssClass:"cellTextHeader",cssClass:"cellText",formatter:r},{id:"status",name:"Status",field:"Status",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"},{id:"preferredCity",name:"Preferred City",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"},{id:"preferredState",name:"Preferred State",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"},{id:"preferredZip",name:"Preferred Zip",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"},{id:"preferredPhone",name:"Preferred Phone",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"},{id:"preferredEmail",name:"Preferred Email",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"}],n={enableCellNavigation:!0,enableColumnReorder:!1,fullWidthRows:!0,rowHeight:22,headerRowHeight:22},d=!0;this.dataView=new Slick.Data.DataView({inlineFilters:!0}),this.dataView.beginUpdate(),this.dataView.setItems(e),this.dataView.setFilterArgs({searchString:""}),this.dataView.setFilter(t),this.dataView.endUpdate(),this.grid=new Slick.Grid("#churchGrid",this.dataView,s,n),$("#churchGrid").data("gridInstance",this.grid),this.grid.onSort.subscribe(function(e,t){i=t.sortCol.field,d=t.sortAsc;var r=this.getData();r.sort(a,d),this.invalidateAllRows(),this.render()}),$(window).resize(function(){var e=$("#churchGrid").data("gridInstance");void 0!==e&&e.resizeCanvas()}),$("#loader").css("display","none")},load:function(){$.ajax({type:"POST",url:"/api/church/GetList",contentType:"application/json",success:function(e){this.loadgrid(e)},fail:function(e){alert("failed to load church list")},context:this})}};$(document).ready(function(){});var memLstLdr={grid:null,dataView:null,dispose:function(){this.grid=null,this.dataView=null},loadgrid:function(e){function t(e,t){var r=(e.FullName+"").toLowerCase(),a=(t.searchString+"").toLowerCase();return r.indexOf(a+"")>-1}function r(e,t,r,a,i){return r?"<a href='/Member/Member?id="+i.id+"'>"+r+"</a>":null}function a(e,t){var r=e[i],a=t[i];return"string"==typeof r&&"string"==typeof a&&(r=r.toLowerCase(),a=a.toLowerCase()),r===a?0:null===r?-1:null===a?1:r>a?1:-1}var i,s=[{id:"fullName",name:"Full Name",field:"FullName",minWidth:150,sortable:!0,headerCssClass:"cellTextHeader",cssClass:"cellText",formatter:r},{id:"status",name:"Status",field:"Status",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"},{id:"preferredPhone",name:"Preferred Phone",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"},{id:"preferredEmail",name:"Preferred Email",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"},{id:"lastActivityDate",name:"Last Activity",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"}],n={enableCellNavigation:!0,enableColumnReorder:!1,fullWidthRows:!0,rowHeight:22,headerRowHeight:22},d=!0;this.dataView=new Slick.Data.DataView({inlineFilters:!0}),this.dataView.beginUpdate(),this.dataView.setItems(e),this.dataView.setFilterArgs({searchString:""}),this.dataView.setFilter(t),this.dataView.endUpdate(),this.grid=new Slick.Grid("#membersGrid",this.dataView,s,n),$("#membersGrid").data("gridInstance",this.grid),this.grid.onSort.subscribe(function(e,t){i=t.sortCol.field,d=t.sortAsc;var r=this.getData();r.sort(a,d),this.invalidateAllRows(),this.render()}),$(window).resize(function(){var e=$("#membersGrid").data("gridInstance");void 0!==e&&e.resizeCanvas()}),$("#loader").css("display","none")},load:function(){var e={ChurchID:3,StatusID:49};$.ajax({type:"POST",url:"/api/Member/GetByStatus",contentType:"application/json",data:JSON.stringify(e),success:function(e){this.loadgrid(e)},fail:function(e){alert("failed to load members")},context:this})}},memContactsLdr={grid:null,dataView:null,dispose:function(){this.grid=null,this.dataView=null},loadgrid:function(e){function t(e,t){var r=(e.FullName+"").toLowerCase(),a=(t.searchString+"").toLowerCase();return r.indexOf(a+"")>-1}function r(e,t,r,a,i){return r?"<a href='/Member/Member?id="+i.id+"'>"+r+"</a>":null}function a(e,t){var r=e[i],a=t[i];return"string"==typeof r&&"string"==typeof a&&(r=r.toLowerCase(),a=a.toLowerCase()),r===a?0:null===r?-1:null===a?1:r>a?1:-1}var i,s=[{id:"fullName",name:"Full Name",field:"FullName",sortable:!0,headerCssClass:"cellTextHeader",cssClass:"cellText",formatter:r,width:150},{id:"status",name:"Status",field:"Status",sortable:!0,width:70,headerCssClass:"cellTextHeader cellTextHeader-fullName",cssClass:"cellText"},{id:"preferredPhone",name:"Preferred Phone",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"},{id:"preferredEmail",name:"Preferred Email",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"},{id:"lastActivityDate",name:"Last Activity",sortable:!0,width:100,headerCssClass:"cellTextHeader",cssClass:"cellText"}],n={enableCellNavigation:!0,enableColumnReorder:!0,fullWidthRows:!0,rowHeight:22,headerRowHeight:22},d=!0;this.dataView=new Slick.Data.DataView({inlineFilters:!0}),this.dataView.beginUpdate(),this.dataView.setItems(e),this.dataView.setFilterArgs({searchString:""}),this.dataView.setFilter(t),this.dataView.endUpdate(),this.grid=new Slick.Grid("#memContactsGrid",this.dataView,s,n),$("#memContactsGrid").data("gridInstance",this.grid),this.grid.onSort.subscribe(function(e,t){i=t.sortCol.field,d=t.sortAsc;var r=this.getData();r.sort(a,d),this.invalidateAllRows(),this.render()}),$(window).resize(function(){var e=$("#memContactsGrid").data("gridInstance");void 0!==e&&e.resizeCanvas()}),$("#profileLoader").css("display","none")},load:function(){var e={memberId:3};$.ajax({type:"POST",url:"/api/Member/GetContacts",contentType:"application/json",data:JSON.stringify(e),success:function(e){this.loadgrid(e)},fail:function(e){alert("failed to load members")},context:this})}},memLstLdr={grid:null,dataView:null,dispose:function(){this.grid=null,this.dataView=null},loadgrid:function(e){function t(e,t){var r=(e.FullName+"").toLowerCase(),a=(t.searchString+"").toLowerCase();return r.indexOf(a+"")>-1}function r(e,t,r,a,i){return r?"<a href='/Member/Member?id="+i.id+"'>"+r+"</a>":null}function a(e,t,r,a,i){return"<input type='checkbox' class='nscenter' style='margin: 2px 0 2px 6px;' />"}function i(e,t){var r=e[s],a=t[s];return"string"==typeof r&&"string"==typeof a&&(r=r.toLowerCase(),a=a.toLowerCase()),r===a?0:null===r?-1:null===a?1:r>a?1:-1}var s,n=[{id:"isSelected",name:"",field:"",sortable:!0,width:20,headerCssClass:"cellTextHeader",cssClass:"cellText",formatter:a},{id:"fullName",name:"Full Name",field:"FullName",minWidth:150,sortable:!0,headerCssClass:"cellTextHeader",cssClass:"cellText",formatter:r},{id:"preferredPhone",name:"Preferred Phone",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"},{id:"preferredEmail",name:"Preferred Email",sortable:!0,width:125,headerCssClass:"cellTextHeader",cssClass:"cellText"}],d={enableCellNavigation:!0,enableColumnReorder:!1,fullWidthRows:!0,rowHeight:22,headerRowHeight:22},l=!0;this.dataView=new Slick.Data.DataView({inlineFilters:!0}),this.dataView.beginUpdate(),this.dataView.setItems(e),this.dataView.setFilterArgs({searchString:""}),this.dataView.setFilter(t),this.dataView.endUpdate(),this.grid=new Slick.Grid("#membersGrid",this.dataView,n,d),$("#membersGrid").data("gridInstance",this.grid),this.grid.onSort.subscribe(function(e,t){s=t.sortCol.field,l=t.sortAsc;var r=this.getData();r.sort(i,l),this.invalidateAllRows(),this.render()}),$(window).resize(function(){var e=$("#membersGrid").data("gridInstance");void 0!==e&&e.resizeCanvas()}),$("#loader").css("display","none")},load:function(){var e={ChurchID:3,StatusID:49};$.ajax({type:"POST",url:"/api/Member/GetByStatus",contentType:"application/json",data:JSON.stringify(e),success:function(e){this.loadgrid(e)},fail:function(e){alert("failed to load members")},context:this})}};